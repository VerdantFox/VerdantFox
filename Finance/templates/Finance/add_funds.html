{% extends 'Finance/Finance_base.html' %}

{% block title_block %}
  Home | Finance
{% endblock %}

{% block breadcrumb %}
  <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
  <li class="breadcrumb-item"><a href="{% url 'Finance:home' %}">Finance</a></li>
  <li class="breadcrumb-item active" aria-current="page">Add Funds</li>
{% endblock %}

{% block active3 %}active{% endblock %}

{% block body_block %}
<div class="container">
  <h1>Add funds to your account here</h1>
  <p>Accepted credit cards: VISA, MASTERCARD, AMERICAN EXPRESS, or DISCOVER.</p>
  <p>Note: Only valid credit cards will work. No credit card information will
    be saved from this page. However, since this is a fake "fund-adding" page, I
    suggest you use one of these valid, yet in-activated credit cards offered
    for testing by
  <a href="https://developer.paypal.com/docs/classic/payflow/payflow-pro/payflow-pro-testing/" target="_blank">paypal</a>.</p>
  <h4>Current account funds: {{ cash }}</h4>
  <br>
</div>

  {# https://www.codeply.com/go/dHX2pDOcIz/bootstrap-4-credit-card-form #}
  <div class="container-fluid py-3">
    <div class="col-12 col-sm-10 col-md-8 col-lg-6 mx-auto">
      <div id="pay-invoice" class="card">
        <div class="card-body">
          <div class="card-title">
              <h3 class="text-center">Add Funds</h3>
          </div>
          <hr>
          <form action="" method="post" id="funds-form">
            <div class="form-group text-center">
              <ul class="list-inline">
                <li class="list-inline-item">
                  <i class="fab fa-cc-visa fa-2x"></i>
                </li>
                <li class="list-inline-item">
                  <i class="fab fa-cc-mastercard fa-2x"></i>
                </li>
                <li class="list-inline-item">
                  <i class="fab fa-cc-amex fa-2x"></i>
                </li>
                <li class="list-inline-item">
                  <i class="fab fa-cc-discover fa-2x"></i>
                </li>
              </ul>
            </div>
            {% for error in form.non_field_errors %}
              <h6 class="form-error">{{ error }}</h6>
            {% endfor %}
            {% csrf_token %}
            <div class="form-group">
              {{ form.funds.errors }}
              {{ form.funds.label }}
              {{ form.funds }}
            </div>
            <div class="form-group">
              {{ form.name.errors }}
              {{ form.name.label }}
              {{ form.name }}
            </div>
            <div class="form-group">
              {{ form.card_number.errors }}
              {{ form.card_number.label }}
              {{ form.card_number }}
            </div>
            <div class="row">
              <div class="col-6">
                {{ form.cc_exp.errors }}
              </div>
              <div class="col-6">
                {{ form.cvv.errors }}
              </div>
            </div>
            <div class="row">
              <div class="form-group col-6">
                {{ form.cc_exp.label }}
                {{ form.cc_exp }}
              </div>
              <div class="form-group col-6">
                {{ form.cvv.label }}
                {{ form.cvv }}
              </div>
            </div>
            <div class="form-group">
              {{ form.zip_code.errors }}
              {{ form.zip_code.label }}
              {{ form.zip_code }}
            </div>
            <button id="add-funds-button" type="submit"
                    class="btn btn-lg btn-primary btn-block"
                    form="funds-form" name="add-funds" value="add-funds">
              <i class="fa fa-lock fa-lg"></i>
              <span id="payment-button-amount">Add Funds</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

{% endblock %}